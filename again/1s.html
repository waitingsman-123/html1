<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title></title>
		<style type="text/css">
			ul{
				width: 200px;
				list-style: none;
				float: left;
			}
			.div{
				width: 200px;
				background: red;
				margin-right: 10px;
				margin-bottom: 10px;
			}
		</style>
	</head>
	<body>
		<ul></ul>
		<ul></ul>
		<ul></ul>
		<ul></ul>
	</body>
	<script type="text/javascript">
		var uls=document.querySelectorAll('ul')
		var count=01
		function createDiv(){
			for(var i=0;i<200;i++){
			var div=document.createElement('li')
			div.className='div'
			div.style.height=parseInt(Math.random()*101+100)+"px"
			div.innerText=count++
			var minIndex=0
			for(var j=1;j<uls.length;j++){
				if(uls[minIndex].offsetHeight>uls[j].offsetHeight){
					minIndex=j
				}
			}
			uls[minIndex].appendChild(div)
		}
		}
		window.onscroll=function(){
			var sTop=document.documentElement.scrollTop||document.body.scrollTop
			var cTop=document.documentElement.clientHeight
			var oTop=uls[0].offsetHeight
			if(sTop>=oTop-cTop-400){
				createDiv()
			}
		}
		createDiv()
	</script>
	
</html>