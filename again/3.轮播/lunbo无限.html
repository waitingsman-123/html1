<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			#wrap {
				width: 502px;
				height: 402px;
				background: transparent;
				margin: 50px auto;
				position: relative;
				overflow:hidden;
			}
			
			#run {
				position: absolute;
				left: 0;
				top: 0;
				width: 9999px;
			}
			
			#run div {
				width: 500px;
				height: 400px;
				background: orange;
				font: bold 60px/400px arial;
				text-align: center;
				float: left;
				border: 1px solid black
			}
		</style>
	</head>

	<body>
		<div id="wrap">
			<div id="run">
				
				<div id="div1">1</div>
				<div id="div2">2</div>
				<div id="div3">3</div>
				<div id="div4">4</div>
				<div id="div5">5</div>
				<div id="div6">1</div>

			</div>
		</div>
	</body>
	<script type="text/javascript" src="tween.js"></script>
	<script type="text/javascript">
		var  run=document.getElementById('run')
		//var divs=document.querySelectorAll('#run>div')
		var divs=run.getElementsByTagName('div')
		var moveTimer=null
		//1.
		function move(){
			var t=0
			var d=30
			var b=run.offsetLeft
			var end=  index*divs[0].offsetWidth 
			//难点
			var c=end-b
			clearInterval(moveTimer)
			moveTimer=setInterval(function(){
				t++
				if(t>=d){
					clearInterval(moveTimer)
					moveTimer=null
				}
				run.style.left=Tween.Linear(t,b,c,d)+'px'
			
				var leftStr= run.style.left
				leftStr=parseFloat(leftStr)
				
				//leftStr.split('p')[0]
				if(leftStr<=-2500){
					run.style.left=0
					index=0
				}
			},30)
		}
		
		
		//2.
		var index=0
		var direction=false
		setInterval(function(){
			/*if(direction){
				index++
			}else{
				index--
			}
			if(index==-4){
				direction=true
			}if(index==0){
				direction=false
			}*/
		index--
			move()
		},1500)
	</script>
</html>